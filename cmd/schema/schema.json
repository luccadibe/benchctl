{"$schema":"https://json-schema.org/draft/2020-12/schema","$id":"https://github.com/luccadibe/benchctl/internal/config/config","$ref":"#/$defs/Config","$defs":{"Benchmark":{"properties":{"name":{"type":"string"},"output_dir":{"type":"string"},"logging":{"$ref":"#/$defs/LoggingConfig"}},"additionalProperties":false,"type":"object","required":["name","output_dir"]},"Config":{"properties":{"benchmark":{"$ref":"#/$defs/Benchmark"},"hosts":{"additionalProperties":{"$ref":"#/$defs/Host"},"type":"object"},"stages":{"items":{"$ref":"#/$defs/Stage"},"type":"array"},"plots":{"items":{"$ref":"#/$defs/Plot"},"type":"array"}},"additionalProperties":false,"type":"object","required":["benchmark","hosts","stages"]},"DataColumn":{"properties":{"name":{"type":"string"},"type":{"type":"string","enum":["timestamp","integer","float","string"]},"unit":{"type":"string"},"format":{"type":"string"}},"additionalProperties":false,"type":"object","required":["name","type"]},"DataSchema":{"properties":{"format":{"type":"string","enum":["csv"]},"columns":{"items":{"$ref":"#/$defs/DataColumn"},"type":"array"}},"additionalProperties":false,"type":"object","required":["format","columns"]},"HealthCheck":{"properties":{"type":{"type":"string","enum":["port","http","file","process","command"]},"target":{"type":"string"},"timeout":{"type":"string"},"retries":{"type":"integer"}},"additionalProperties":false,"type":"object"},"Host":{"properties":{"ip":{"type":"string"},"port":{"type":"integer"},"username":{"type":"string"},"password":{"type":"string"},"key_file":{"type":"string"},"key_password":{"type":"string"}},"additionalProperties":false,"type":"object"},"LoggingConfig":{"properties":{"level":{"type":"string"},"path":{"type":"string"}},"additionalProperties":false,"type":"object","required":["level"]},"Output":{"properties":{"name":{"type":"string"},"remote_path":{"type":"string"},"local_path":{"type":"string"},"data_schema":{"$ref":"#/$defs/DataSchema"}},"additionalProperties":false,"type":"object","required":["name","remote_path"]},"Plot":{"properties":{"name":{"type":"string"},"title":{"type":"string"},"source":{"type":"string"},"type":{"type":"string","enum":["time_series","histogram","boxplot"]},"x":{"type":"string"},"y":{"type":"string"},"aggregation":{"type":"string","enum":["avg","median","p95","p99"]},"format":{"type":"string","enum":["png","svg","pdf"]},"export_path":{"type":"string"},"engine":{"type":"string","enum":["gonum","seaborn"]},"options":{"type":"object"}},"additionalProperties":false,"type":"object","required":["name","title","source","type"]},"Stage":{"properties":{"name":{"type":"string"},"host":{"type":"string"},"command":{"type":"string"},"script":{"type":"string"},"append_metadata":{"type":"boolean"},"background":{"type":"boolean"},"health_check":{"$ref":"#/$defs/HealthCheck"},"outputs":{"items":{"$ref":"#/$defs/Output"},"type":"array"}},"additionalProperties":false,"type":"object","required":["name"]}}}
